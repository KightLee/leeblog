<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>博客表单</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.css">
    <style>
        #mytab tr:nth-child(even) {
            background: #f4f8fb;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div id="toolbar" class="btn-group">
                <button id="btn_add" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                </button>
                <button id="btn_edit" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改
                </button>
                <button id="btn_delete" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>删除
                </button>
            </div>
            <table id="mytab" class="table table-bordered table-hover">

            </table>
        </div>
    </div>
</div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.js"></script>
<script>
    $('#mytab').bootstrapTable({
        url: 'http://localhost:8088/admin/users',
        /*queryParams: "queryParams",*/
        toolbar: "#toolbar",
        sidePagination: 'client',
        striped: true, // 是否显示行间隔色
        search: true,
        uniqueId: "id",
        pageList: [5, 10, 20],
        pageSize: 10,
        pagination: true, // 是否分页
        sortable: true, // 是否启用排序
        showRefresh: true,
        paginationHAlign:"left",
        paginationDetailHAlign:"right",
        columns: [
            {
                checkbox: true,
                Visible: true
            },
            {
                field: 'id',
                title: 'ID'
            },
            {
                field: 'username',
                title: '用户名'
            },
            {
                field: 'nickname',
                title: '昵称'
            },
            {
                field: 'avatar',
                title: '首图'
            },

            {
                field: 'email',
                title: '邮箱'
            },
            {
                field: 'type',
                title: '类型'
            },
            {
                field: 'createTime',
                title: '创建时间'
            },
        ]
    });

    //操作栏的格式化
    function actionFormatter(value, row, index) {
        var id = value;
        var result = "";
        result += "<a href='javascript:;' class='btn btn-xs green' οnclick=\"EditViewById('" + id + "', view='view')\" title='查看'><span class='glyphicon glyphicon-search'></span></a>";
        result += "<a href='javascript:;' class='btn btn-xs blue' οnclick=\"EditViewById('" + id + "')\" title='编辑'><span class='glyphicon glyphicon-pencil'></span></a>";
        result += "<a href='javascript:;' class='btn btn-xs red' οnclick=\"DeleteByIds('" + id + "')\" title='删除'><span class='glyphicon glyphicon-remove'></span></a>";
        return result;
    }

    /*window.onload = function() {
        $.ajax(
            {
                type:"GET",
                async: false,
                url:"http://localhost:8088/admin/users",
                contentType: 'application/json',
                dataType:"json",
                success:function(res){
                    var data = res.data;
                    console.log(data);
                },
                error:function(){
                    alert("错误");
                }
            }
    )
    }*/

</script>
</body>
</html>
